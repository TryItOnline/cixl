/*
  A number guessing game implemented as a lambda iterator.

  Once Cixl is installed, the game may be started by executing
  "load '../examples/guess.cx'".

  https://github.com/basic-gongfu/cixl#getting-started
*/

use: cx;

((let: n 100 rand ++; {
  'Your guess: ' ask
  
  % {
    let: c int $n <=>;

    switch:
      (($c `< =) 'Too low!'  say #t)
      (($c `> =) 'Too high!' say #t)
      (#t        'Correct!'  say #nil);
  } {
    _ #nil
  } if-else
}) &_ for)